<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- feedback.qdoc -->
  <title>Qt Mobility 1.1: Feedback</title>
  <link rel="stylesheet" type="text/css" href="style/style.css"
 />  <!--[if IE]>
<meta name="MSSmartTagsPreventParsing" content="true">
<meta http-equiv="imagetoolbar" content="no">
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" type="text/css" href="style/style_ie6.css">
<![endif]-->
<!--[if IE 7]>
<link rel="stylesheet" type="text/css" href="style/style_ie7.css">
<![endif]-->
<!--[if IE 8]>
<link rel="stylesheet" type="text/css" href="style/style_ie8.css">
<![endif]-->
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
 <script src="./scripts/superfish.js" type="text/javascript"></script>
 <script src="./scripts/narrow.js" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="style/superfish.css" />  <link rel="stylesheet" type="text/css" href="style/narrow.css" /></head>
<body class="" onload="CheckEmptyAndLoadList();">
 <div class="header" id="qtdocheader">
    <div class="content"> 
    <div id="nav-logo">
      <a href="index.html">Home</a></div>
    <a href="index.html" class="qtref"><span>Qt Mobility Reference Documentation</span></a>
		<div id="narrowsearch"><form onsubmit="return false;" action="" id="qtdocsearchTop">
		<fieldset>
		<input type="text" value="" id="pageType2" name="searchstring"/>
		 </fieldset>
		</form></div>
    <div id="nav-topright">
      <ul>
        <li class="nav-topright-home"><a href="http://qt.nokia.com/">Qt HOME</a></li>
        <li class="nav-topright-dev"><a href="http://developer.qt.nokia.com/">DEV</a></li>
        <li class="nav-topright-labs"><a href="http://labs.qt.nokia.com/blogs/">LABS</a></li>
        <li class="nav-topright-doc nav-topright-doc-active"><a href="http://doc.qt.nokia.com/">
          DOC</a></li>
        <li class="nav-topright-blog"><a href="http://blog.qt.nokia.com/">BLOG</a></li>
      </ul>
    </div>
    <div id="shortCut">
      <ul>
        <li class="shortCut-topleft-inactive"><span><a href="index.html">Mobility 1.1</a></span></li>
        <li class="shortCut-topleft-active"><a href="http://doc.qt.nokia.com">ALL VERSIONS        </a></li>
      </ul>
     </div>
 <ul class="sf-menu sf-js-enabled sf-shadow" id="narrowmenu"> 
		 <li><a href="#">API Lookup</a> 
			 <ul id="topmenuLook"> 
			   <li><a href="classes.html">Class index</a></li> 
 			  <li><a href="functions.html">Function index</a></li> 
			   <li><a href="modules.html">Modules</a></li> 
			   </ul> 
		 </li> 
		 <li><a href="#">Examples</a> 
			 <ul id="topmenuexample"> 
				 <li><a href="all-examples.html">Examples</a></li> 
			 </ul> 
		 </li> 
 </ul> 
    </div>
  </div>
  <div class="wrapper">
    <div class="hd">
      <span></span>
    </div>
    <div class="bd group">
      <div class="sidebar">
        <div class="searchlabel">
          Search index:</div>
        <div class="search">
          <form id="qtdocsearch" action="" onsubmit="return false;">
            <fieldset>
              <input type="text" name="searchstring" id="pageType" value="" />
            </fieldset>
          </form>
        </div>
        <div class="box first bottombar" id="lookup">
          <h2 title="API Lookup"><span></span>
            API Lookup</h2>
          <div  id="list001" class="list">
          <ul id="ul001" >
              <li class="defaultLink"><a href="classes.html">Class index</a></li>
              <li class="defaultLink"><a href="functions.html">Function index</a></li>
              <li class="defaultLink"><a href="modules.html">Modules</a></li>
              <li class="defaultLink"><a href="index.html#platform-compatibility">Platform Compatibility</a></li>
              <li class="defaultLink"><a href="qml-plugins.html">QML Plugins</a></li>
            </ul> 
          </div>
        </div>
        <div class="box bottombar" id="topics">
          <h2 title="Qt Topics"><span></span>
            Qt Topics</h2>
          <div id="list002" class="list">
            <ul id="ul002" >
              <li class="defaultLink"><a href="http://doc.qt.nokia.com/4.7-snapshot/">Qt 4.7</a></li>
              <li class="defaultLink"><a href="http://doc.qt.nokia.com/4.7-snapshot/qt-basic-concepts.html">Basic Qt architecture</a></li>
              <li class="defaultLink"><a href="http://doc.qt.nokia.com/4.7-snapshot/declarativeui.html">Device UI's &amp; Qt Quick</a></li>
              <li class="defaultLink"><a href="http://doc.qt.nokia.com/4.7-snapshot/qt-gui-concepts.html">Desktop UI components</a></li>
              <li class="defaultLink"><a href="http://doc.qt.nokia.com/4.7-snapshot/platform-specific.html">Platform-specific info</a></li>
            </ul>  
          </div>
        </div>
        <div class="box" id="examples">
          <h2 title="Examples"><span></span>
            Examples</h2>
          <div id="list003" class="list">
        <ul id="ul003">
              <li class="defaultLink"><a href="all-examples.html">Examples</a></li>
            </ul> 
          </div>
        </div>
      </div>
      <div class="wrap">
        <div class="toolbar">
          <div class="breadcrumb toolblock">
            <ul>
              <li class="first"><a href="index.html">Home</a></li>
              <!--  Bread crumbs goes here -->
              <li>Feedback</li>            </ul>
          </div>
          <div class="toolbuttons toolblock">
            <ul>
              <li id="smallA" class="t_button">A</li>
              <li id="medA" class="t_button active">A</li>
              <li id="bigA" class="t_button">A</li>
              <li id="print" class="t_button"><a href="javascript:this.print();">
                <span>Print</span></a></li>
            </ul>
          </div>
        </div>
        <div class="content">
<div class="toc">
<h3>Contents</h3>
<ul>
<li class="level1"><a href="#namespace">Namespace</a></li>
<li class="level1"><a href="#overview">Overview</a></li>
<li class="level1"><a href="#usage">Usage</a></li>
<li class="level1"><a href="#main-classes">Main Classes</a></li>
<li class="level1"><a href="#examples">Examples</a></li>
</ul>
</div>
<h1 class="title">Feedback</h1>
<span class="subtitle"></span>
<div class="descr"/>
<p>The Feedback API enables a client to provide feedback (both tactile and audio) to the user in response to their actions (for example, touching an onscreen button), and to control the vibration of the device (when a vibrator is used) or the piezo feedback from the screen.</p>
<p>This is part of the Qt Mobility Project.</p>
<a name="namespace"></a>
<h2>Namespace</h2>
<p>The QtMobility APIs are placed into the <i>QtMobility</i> namespace. This is done to facilitate the future migration of Mobility APIs into Qt. See the <a href="quickstart.html">Quickstart guide</a> for an example on how the namespace impacts on application development.</p>
<a name="overview"></a>
<h2>Overview</h2>
<p>The Feedback API allows application developers to implement feedback and programmatic vibration in their applications. The API provides abstractions for various types of feedback, and allows custom implementations of these types of feedback.</p>
<p>The <a href="qfeedbackeffect.html">QFeedbackEffect</a> class provides a simple interface to allow developers to start, stop or pause the playback of an effect. It is an abstract class which is implemented by <a href="qfeedbackhapticseffect.html">QFeedbackHapticsEffect</a> and <a href="qfeedbackfileeffect.html">QFeedbackFileEffect</a>. In addition, it allows the instantaneous playback of feedback effects which match the system theme.</p>
<p>A <a href="qfeedbackhapticseffect.html">QFeedbackHapticsEffect</a> is a custom effect which allows a program to play a haptic effect on an actuator. Such an effect might have a duration, intensity, and envelope of playback (including attack time and intensity, and fade time and intensity), as well as a period if it is a periodic (repeating) effect.</p>
<p>A <a href="qfeedbackfileeffect.html">QFeedbackFileEffect</a> is a haptic tune or audio file saved in a file which may be played back. These effects must be created by third-party applications, and a plugin which supports the specific file format must be installed. In particular, note that audio effects are generally limited to simple formats, to reduce latency. You can check what formats are supported by the system by calling <a href="qfeedbackfileeffect.html#supportedMimeTypes">QFeedbackFileEffect::supportedMimeTypes</a>().</p>
<p>For the vast majority of use cases, the <a href="qfeedbackeffect.html">QFeedbackEffect</a>, <a href="qfeedbackhapticseffect.html">QFeedbackHapticsEffect</a> and <a href="qfeedbackfileeffect.html">QFeedbackFileEffect</a> classes are the only classes which developers will use in their programs. There are some special cases, however, where they may wish to implement their own feedback plugin. The Qt Mobility Feedback API allows third party developers to implement <a href="qfeedbackinterface.html">QFeedbackInterface</a> in a plugin which may be loaded by the plugin loading mechanism to play feedback effects.</p>
<p>Note that in any application, only the highest priority plugin for each of the three types of feedback will be used to provide the feedback effects, except for file feedback plugins (where only the highest priority plugin for each supported mime-type is used). The interface classes which must be implemented by a plugin to provide effects to clients are:</p>
<ul>
<li><a href="qfeedbackhapticsinterface.html">QFeedbackHapticsInterface</a> for <a href="qfeedbackhapticseffect.html">QFeedbackHapticsEffect</a></li>
<li><a href="qfeedbackfileinterface.html">QFeedbackFileInterface</a> for <a href="qfeedbackfileeffect.html">QFeedbackFileEffect</a></li>
<li><a href="qfeedbackthemeinterface.html">QFeedbackThemeInterface</a> for the built-in theme effects (<a href="qfeedbackeffect.html#ThemeEffect-enum">QFeedbackEffect::ThemeEffect</a>).</li>
</ul>
<p>Generally, the device platform will provide an implementation of each of the three different interfaces, which will be the default plugins used for the various QFeedbackEffects.</p>
<a name="usage"></a>
<h2>Usage</h2>
<p><b>Note:</b> On Symbian vibration feature needs to be enabled in user profile for the API to work.</p>
<p>The most common use of the API is to play system theme effects for user interface interaction notifications (e.g&#x2e;, button clicks, etc). These types of system theme effects can be played instantaneously, but cannot be paused or stopped. They are played via the static <a href="qfeedbackeffect.html#playThemeEffect">QFeedbackEffect::playThemeEffect</a>() function:</p>
<pre class="highlightedCode brush: cpp">     QFeedbackEffect::playThemeEffect(QFeedbackEffect::ThemeBasicButton);</pre>
<p>There are many different theme effects defined, to cover a variety of interactions and notifications, to allow an application to maintain greater consistency with the platform user experience.</p>
<pre class="highlightedCode brush: cpp">     QFeedbackEffect::playThemeEffect(QFeedbackEffect::ThemeBounceEffect);</pre>
<p>The next most common use of the API is to define a custom effect which can be used to notify the user of application-specific events or to increase the immersiveness of an application. A custom haptic effect may be defined in the following manner:</p>
<pre class="highlightedCode brush: cpp">     QFeedbackHapticsEffect rumble;
     rumble.setAttackIntensity(0.0);
     rumble.setAttackTime(250);
     rumble.setIntensity(1.0);
     rumble.setDuration(100);
     rumble.setFadeTime(250);
     rumble.setFadeIntensity(0.0);</pre>
<p>Note that no periodicity was defined for the effect, although that can be done by calling QFeedbackHapticEffect::setPeriod() if required.</p>
<p>Once the effect has been defined, it may be played via the API offered in the <a href="qfeedbackeffect.html">QFeedbackEffect</a> base class:</p>
<pre class="highlightedCode brush: cpp">     rumble.start();</pre>
<p>Custom haptic effects are stateful, and so they may be paused:</p>
<pre class="highlightedCode brush: cpp">     rumble.pause();</pre>
<p>Or stopped:</p>
<pre class="highlightedCode brush: cpp">     rumble.stop();</pre>
<p>Certain operations cannot be performed on an effect if it is in a certain state. The current state of the effect may be queried via the base-class API:</p>
<pre class="highlightedCode brush: cpp">     if (rumble.state() == QFeedbackEffect::Stopped)
         qDebug() &lt;&lt; &quot;The device has stopped rumbling!&quot;;</pre>
<p>All custom effects are played using a specific <a href="qfeedbackactuator.html">device actuator</a>. By default, the effect is played via the actuator which the current haptic effect provider plugin considers to be the system default actuator, and so most application developers will not need to change which actuator is used. In some cases, however, it may be desirable to set which actuator the effect is played on; doing so requires prior knowledge of either the name or the id of the actuator on which the developer wishes the effect to be played:</p>
<pre class="highlightedCode brush: cpp">     QFeedbackActuator *actuator = 0; <span class="comment">// default system actuator</span>
     QList&lt;QFeedbackActuator*&gt; actuators = QFeedbackActuator::actuators();
     foreach (QFeedbackActuator* temp, actuators) {
         if (temp-&gt;name() == &quot;ExampleActuatorName&quot;) {
             actuator = temp;
         }
     }
     rumble.setActuator(actuator);</pre>
<p>Finally, there is software available which allows &quot;haptic tunes&quot; to be saved to file, for later playback. If the haptic file effect provider plugin on the system understands that file format, the file can be played on device:</p>
<pre class="highlightedCode brush: cpp">     QFeedbackFileEffect hapticTune;
     hapticTune.setSource(QUrl::fromLocalFile(&quot;mySavedRumble.ifr&quot;));
     hapticTune.load();
     hapticTune.start();</pre>
<p>In addition, small audio effects can be played as feedback.</p>
<p>If you wish to see a simple example application which demonstrates some of the above code in use, please see the <a href="hapticsquare.html">Haptic Square</a> example application.</p>
<a name="main-classes"></a>
<h2>Main Classes</h2>
<ul>
<li><a href="qfeedbackeffect.html">QFeedbackEffect</a></li>
<li><a href="qfeedbackhapticseffect.html">QFeedbackHapticsEffect</a></li>
<li><a href="qfeedbackfileeffect.html">QFeedbackFileEffect</a></li>
<li><a href="qfeedbackactuator.html">QFeedbackActuator</a></li>
<li><a href="qfeedbackinterface.html">QFeedbackInterface</a></li>
</ul>
<a name="examples"></a>
<h2>Examples</h2>
<ul>
<li><a href="hapticsquare.html">Haptic Square</a></li>
<li><a href="hapticsplayer.html">Haptics Player</a></li>
</ul>
</div>
        <!-- /div -->
        <div class="feedback t_button">
          [+] Documentation Feedback</div>
      </div>
    </div>
    <div class="ft">
      <span></span>
    </div>
  </div> 
  </div> 
  <div class="footer">
    <p>
      <acronym title="Copyright">&copy;</acronym> 2008-2010 Nokia Corporation and/or its
      subsidiaries. Nokia, Qt and their respective logos are trademarks of Nokia Corporation 
      in Finland and/or other countries worldwide.</p>
    <p>
      All other trademarks are property of their respective owners. <a title="Privacy Policy"
        href="http://qt.nokia.com/about/privacy-policy">Privacy Policy</a></p>
  </div>
  <div id="feedbackBox">
      <div id="feedcloseX" class="feedclose t_button">X</div>
    <form id="feedform" action="http://doc.qt.nokia.com/docFeedbck/feedback.php" method="get">
      <p id="noteHead">Thank you for giving your feedback.</p> <div class="note"><p>Make sure it is related to this specific page. For more general bugs and 
      requests, please use the <a href="http://bugreports.qt.nokia.com/secure/Dashboard.jspa">Qt Bug Tracker</a>.</p></div>
      <p><textarea id="feedbox" name="feedText" rows="5" cols="40"></textarea></p>
      <p><input id="feedsubmit" class="feedclose" type="submit" name="feedback" /></p>
    </form>
  </div>
  <div id="blurpage">
  </div>
  </div>
  <script src="scripts/functions.js" type="text/javascript"></script>
</body>
</html>
