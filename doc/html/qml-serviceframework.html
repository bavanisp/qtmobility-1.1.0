<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qml-serviceframework.qdoc -->
  <title>Qt Mobility 1.1: Service Framework QML Plugin</title>
  <link rel="stylesheet" type="text/css" href="style/style.css"
 />  <!--[if IE]>
<meta name="MSSmartTagsPreventParsing" content="true">
<meta http-equiv="imagetoolbar" content="no">
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" type="text/css" href="style/style_ie6.css">
<![endif]-->
<!--[if IE 7]>
<link rel="stylesheet" type="text/css" href="style/style_ie7.css">
<![endif]-->
<!--[if IE 8]>
<link rel="stylesheet" type="text/css" href="style/style_ie8.css">
<![endif]-->
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
 <script src="./scripts/superfish.js" type="text/javascript"></script>
 <script src="./scripts/narrow.js" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="style/superfish.css" />  <link rel="stylesheet" type="text/css" href="style/narrow.css" /></head>
<body class="" onload="CheckEmptyAndLoadList();">
 <div class="header" id="qtdocheader">
    <div class="content"> 
    <div id="nav-logo">
      <a href="index.html">Home</a></div>
    <a href="index.html" class="qtref"><span>Qt Mobility Reference Documentation</span></a>
		<div id="narrowsearch"><form onsubmit="return false;" action="" id="qtdocsearchTop">
		<fieldset>
		<input type="text" value="" id="pageType2" name="searchstring"/>
		 </fieldset>
		</form></div>
    <div id="nav-topright">
      <ul>
        <li class="nav-topright-home"><a href="http://qt.nokia.com/">Qt HOME</a></li>
        <li class="nav-topright-dev"><a href="http://developer.qt.nokia.com/">DEV</a></li>
        <li class="nav-topright-labs"><a href="http://labs.qt.nokia.com/blogs/">LABS</a></li>
        <li class="nav-topright-doc nav-topright-doc-active"><a href="http://doc.qt.nokia.com/">
          DOC</a></li>
        <li class="nav-topright-blog"><a href="http://blog.qt.nokia.com/">BLOG</a></li>
      </ul>
    </div>
    <div id="shortCut">
      <ul>
        <li class="shortCut-topleft-inactive"><span><a href="index.html">Mobility 1.1</a></span></li>
        <li class="shortCut-topleft-active"><a href="http://doc.qt.nokia.com">ALL VERSIONS        </a></li>
      </ul>
     </div>
 <ul class="sf-menu sf-js-enabled sf-shadow" id="narrowmenu"> 
		 <li><a href="#">API Lookup</a> 
			 <ul id="topmenuLook"> 
			   <li><a href="classes.html">Class index</a></li> 
 			  <li><a href="functions.html">Function index</a></li> 
			   <li><a href="modules.html">Modules</a></li> 
			   </ul> 
		 </li> 
		 <li><a href="#">Examples</a> 
			 <ul id="topmenuexample"> 
				 <li><a href="all-examples.html">Examples</a></li> 
			 </ul> 
		 </li> 
 </ul> 
    </div>
  </div>
  <div class="wrapper">
    <div class="hd">
      <span></span>
    </div>
    <div class="bd group">
      <div class="sidebar">
        <div class="searchlabel">
          Search index:</div>
        <div class="search">
          <form id="qtdocsearch" action="" onsubmit="return false;">
            <fieldset>
              <input type="text" name="searchstring" id="pageType" value="" />
            </fieldset>
          </form>
        </div>
        <div class="box first bottombar" id="lookup">
          <h2 title="API Lookup"><span></span>
            API Lookup</h2>
          <div  id="list001" class="list">
          <ul id="ul001" >
              <li class="defaultLink"><a href="classes.html">Class index</a></li>
              <li class="defaultLink"><a href="functions.html">Function index</a></li>
              <li class="defaultLink"><a href="modules.html">Modules</a></li>
              <li class="defaultLink"><a href="index.html#platform-compatibility">Platform Compatibility</a></li>
              <li class="defaultLink"><a href="qml-plugins.html">QML Plugins</a></li>
            </ul> 
          </div>
        </div>
        <div class="box bottombar" id="topics">
          <h2 title="Qt Topics"><span></span>
            Qt Topics</h2>
          <div id="list002" class="list">
            <ul id="ul002" >
              <li class="defaultLink"><a href="http://doc.qt.nokia.com/4.7-snapshot/">Qt 4.7</a></li>
              <li class="defaultLink"><a href="http://doc.qt.nokia.com/4.7-snapshot/qt-basic-concepts.html">Basic Qt architecture</a></li>
              <li class="defaultLink"><a href="http://doc.qt.nokia.com/4.7-snapshot/declarativeui.html">Device UI's &amp; Qt Quick</a></li>
              <li class="defaultLink"><a href="http://doc.qt.nokia.com/4.7-snapshot/qt-gui-concepts.html">Desktop UI components</a></li>
              <li class="defaultLink"><a href="http://doc.qt.nokia.com/4.7-snapshot/platform-specific.html">Platform-specific info</a></li>
            </ul>  
          </div>
        </div>
        <div class="box" id="examples">
          <h2 title="Examples"><span></span>
            Examples</h2>
          <div id="list003" class="list">
        <ul id="ul003">
              <li class="defaultLink"><a href="all-examples.html">Examples</a></li>
            </ul> 
          </div>
        </div>
      </div>
      <div class="wrap">
        <div class="toolbar">
          <div class="breadcrumb toolblock">
            <ul>
              <li class="first"><a href="index.html">Home</a></li>
              <!--  Bread crumbs goes here -->
              <li>Service Framework QML Plugin</li>            </ul>
          </div>
          <div class="toolbuttons toolblock">
            <ul>
              <li id="smallA" class="t_button">A</li>
              <li id="medA" class="t_button active">A</li>
              <li id="bigA" class="t_button">A</li>
              <li id="print" class="t_button"><a href="javascript:this.print();">
                <span>Print</span></a></li>
            </ul>
          </div>
        </div>
        <div class="content">
<div class="toc">
<h3>Contents</h3>
<ul>
<li class="level1"><a href="#overview">Overview</a></li>
<li class="level1"><a href="#elements">Elements</a></li>
<li class="level2"><a href="#service">Service</a></li>
<li class="level2"><a href="#servicelist">ServiceList</a></li>
<li class="level1"><a href="#examples">Examples</a></li>
<li class="level1"><a href="#qml-elements">QML Elements</a></li>
</ul>
</div>
<h1 class="title">Service Framework QML Plugin</h1>
<span class="subtitle"></span>
<div class="descr"/>
<a name="overview"></a>
<h2>Overview</h2>
<p>The Service Framework API in the Mobility Project gives developers a mechanism for discovering and instantiating arbitrary services. The QML Service Framework Plugin enables accessing services in a very easy and simple manner by allowing users to declare a service or find a list of services using QML.</p>
<a name="elements"></a>
<h2>Elements</h2>
<p>The service framework QML plugin provides two elements that allow access to registered services via QML script. In general, the QML plugin can only discover and load pre-registered services and does not support any run-time registration or unregistration of services. The servicefw tool can be used to register services to the service framework system prior to running any QML script utilising this plugin. The two available elements are in the subsequent sections.</p>
<a name="service"></a>
<h3>Service</h3>
<p>The <a href="qml-service.html">Service</a> element provides QML with functionality reflecting the <a href="qserviceinterfacedescriptor.html">QServiceInterfaceDescriptor</a> class which represents the details of a single service registered on the service framework system. This element also allows the service to be loaded so that it will return a <a href="http://qt.nokia.com/doc/4.6/qobject.html">QObject</a> reference of the instatiated service object. If this element is used on it's own and not in conjunction to the <a href="qml-servicelist.html">ServiceList</a> element below, it will represent the default interface at the specified interface name, which is the most convenient use-case of the QML plugin. The code snippet below demonstrates a typical way to load an interface in QML.</p>
<pre class="highlightedCode brush: cpp"> import Qt 4.7
 import QtMobility.serviceframework 1.1
 ...
 property variant myObject: 0

 Service {
     id: myService
     interfaceName: &quot;com.nokia.qt.examples.ExampleService&quot;

     Component.onCompleted: {
         myObject = myService.serviceObject;
     }
 }</pre>
<p>In the above code we use a variant to store the <a href="http://qt.nokia.com/doc/4.6/qobject.html">QObject</a> reference provided by the <a href="qml-service.html#serviceObject-prop">Service::serviceObject</a>. In this case it will be an instance of the default service found at the interface address &quot;com.nokia.qt.examples.ExampleService&quot;. The code inside the QML component element is recommended so that the variable <i>myObject</i> holds a valid object instance which can be used throughout the entire QML script.</p>
<p>This element also provides several readable properties about the service interface. A useful one is the <a href="qml-service.html#valid-prop">Service::valid</a> property which will help debug if the system has found a valid default interface descriptor at the specified interface name. The plugin also allows connecting to signals provided by the service. Here is a typical example of receiving service signals within QML for the above code.</p>
<pre class="highlightedCode brush: cpp"> Connections {
     target: myObject
     ignoreUnknownSignals: true

     onMySignal: {
         <span class="comment">// do something</span>
     }
 }</pre>
<p>Note the usage of the ignoreUnkownSignals attribute which is useful for ignoring uknown signals, especially in the case where <a href="qml-service.html#serviceObject-prop">Service::serviceObject</a> has not been called yet or provides an invalid interface.</p>
<p>Once a valid service instance has been obtained its methods and properties can be called and accessed as if it were normal <a href="http://qt.nokia.com/doc/4.6/qobject.html">QObject</a> in QML. The service framework example <a href="declarative-sfw-notes.html">Declarative Notes Manager</a> demonstrates the use of the QML plugin.</p>
<a name="servicelist"></a>
<h3>ServiceList</h3>
<p>The <a href="qml-servicelist.html">ServiceList</a> element provides QML with functionality reflecting the <a href="qservicefilter.html">QServiceFilter</a> class which provides a list of <a href="qml-service.html">Service</a> elements. A very specific service list element can be defined by using the following code.</p>
<pre class="highlightedCode brush: cpp"> ServiceList {
     id: myServiceList
     serviceName: &quot;MyExampleService&quot;
     interfaceName: &quot;com.nokia.qt.examples.ExampleService&quot;
     versionMatch: ServiceList.Exact
     majorVersion: 1
     minorVersion: 3
 }</pre>
<p>If the <a href="qml-servicelist.html#serviceName-prop">ServiceList::serviceName</a> is not supplied the filter will search with a default empty string as the service name, meaning all interfaces will be returned regardless of the service name. Similarly if no <a href="qml-servicelist.html#versionMatch-prop">ServiceList::versionMatch</a> is provided the filter will seach with a minimum version match rule.</p>
<p>The actual QDeclarativeListProperty of <a href="qml-service.html">Service</a> elements can be obtained by reading the <a href="qml-servicelist.html#services-prop">ServiceList::services</a> property which searches based on the filter values. This list model can then be used in a list view element.</p>
<pre class="highlightedCode brush: cpp"> ListView {
     id: myListView
     model: myServiceList.services
     delegate: myDelegate
     ...
 }</pre>
<p>The service framework example <a href="declarative-sfw-dialer.html">Declarative Dialer</a> better demonstrates the use of <a href="qml-servicelist.html">ServiceList</a> coupled with the <a href="qml-service.html">Service</a> element to search and select a service instance to implement the QML dialer application.</p>
<a name="examples"></a>
<h2>Examples</h2>
<ul>
<li><a href="declarative-sfw-notes.html">Declarative Notes Manager</a></li>
<li><a href="declarative-sfw-dialer.html">Declarative Serviceframework Dialer</a></li>
</ul>
<a name="qml-elements"></a>
<h2>QML Elements</h2>
<table class="annotated">
<tr class="odd topAlign"><td><p><a href="qml-service.html">QML Service Element</a></p></td><td><p>The Service element holds an instance of a service object.</p></td></tr>
<tr class="even topAlign"><td><p><a href="qml-servicelist.html">QML ServiceList Element</a></p></td><td><p>The ServiceList element holds a list of Service elements.</p></td></tr>
</table>
</div>
        <!-- /div -->
        <div class="feedback t_button">
          [+] Documentation Feedback</div>
      </div>
    </div>
    <div class="ft">
      <span></span>
    </div>
  </div> 
  </div> 
  <div class="footer">
    <p>
      <acronym title="Copyright">&copy;</acronym> 2008-2010 Nokia Corporation and/or its
      subsidiaries. Nokia, Qt and their respective logos are trademarks of Nokia Corporation 
      in Finland and/or other countries worldwide.</p>
    <p>
      All other trademarks are property of their respective owners. <a title="Privacy Policy"
        href="http://qt.nokia.com/about/privacy-policy">Privacy Policy</a></p>
  </div>
  <div id="feedbackBox">
      <div id="feedcloseX" class="feedclose t_button">X</div>
    <form id="feedform" action="http://doc.qt.nokia.com/docFeedbck/feedback.php" method="get">
      <p id="noteHead">Thank you for giving your feedback.</p> <div class="note"><p>Make sure it is related to this specific page. For more general bugs and 
      requests, please use the <a href="http://bugreports.qt.nokia.com/secure/Dashboard.jspa">Qt Bug Tracker</a>.</p></div>
      <p><textarea id="feedbox" name="feedText" rows="5" cols="40"></textarea></p>
      <p><input id="feedsubmit" class="feedclose" type="submit" name="feedback" /></p>
    </form>
  </div>
  <div id="blurpage">
  </div>
  </div>
  <script src="scripts/functions.js" type="text/javascript"></script>
</body>
</html>
